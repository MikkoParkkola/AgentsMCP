<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Discovery</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 1.5rem; }
      .card { border:1px solid #ddd; padding:1rem; border-radius:8px; }
      .banner { padding:8px 12px; border-radius:6px; margin-bottom:10px; display:none; }
      .banner.err { background:#ffe6e6; color:#933; border:1px solid #f2c1c1; }
    </style>
  </head>
  <body>
    <h1>Discovery</h1>
    <div class="banner err" id="banner"></div>
    <div class="card" id="info">Loadingâ€¦</div>
    <div style="margin-top:10px;">
      <a href="/ui/">Back</a>
    </div>

    <script>
      const banner = document.getElementById('banner');
      function showErr(m){ banner.textContent=m; banner.style.display='block'; }
      async function load(){
        try {
          const r = await fetch('/discovery');
          const j = await r.json();
          const div = document.getElementById('info');
          div.textContent = JSON.stringify(j, null, 2);
        } catch (e) { showErr('Failed: '+e); }
      }
      load();
    </script>
  </body>
</html>
