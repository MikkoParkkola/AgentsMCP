<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Costs</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 1.5rem; }
      .banner { padding:8px 12px; border-radius:6px; margin-bottom:10px; display:none; }
      .banner.err { background:#ffe6e6; color:#933; border:1px solid #f2c1c1; }
      .card { border:1px solid #ddd; padding:1rem; border-radius:8px; }
    </style>
  </head>
  <body>
    <h1>Costs</h1>
    <div class="banner err" id="banner"></div>
    <div class="card" id="data">Loadingâ€¦</div>
    <div style="margin-top:10px;">
      <a href="/ui/">Back</a>
    </div>

    <script>
      const banner = document.getElementById('banner');
      function showErr(m){ banner.textContent=m; banner.style.display='block'; }
      async function load(){
        const r = await fetch('/costs');
        if (r.status === 501){
          document.getElementById('data').textContent = 'Cost tracking unavailable';
          return;
        }
        if (!r.ok){ showErr('Failed: '+(await r.text())); return; }
        const j = await r.json();
        document.getElementById('data').textContent = JSON.stringify(j, null, 2);
      }
      load();
    </script>
  </body>
</html>
